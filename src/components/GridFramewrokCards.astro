---
import FrameworkCard from "./FrameworkCard.astro";

interface Props {
  extras: {
    title: string;
    icon: string;
    link: string;
  }[];
}

const { extras } = Astro.props;

// Helper to get colors based on title (since they were hardcoded in the loop before)
// Or we can move this logic to the parent. Let's keep it simple and just map the data.
// Wait, the original code had 'color' and 'hoverColor' hardcoded in the array.
// The new data structure in index.ts DOES NOT have color/hoverColor.
// I need to add them back in the parent or handle them here.
// Let's handle them here based on the framework name to keep data clean,
// OR update data/index.ts. Updating data/index.ts is cleaner but more work.
// Let's map it here for now to avoid breaking changes in data structure structure if not needed.

const getColors = (title: string) => {
  const lower = title.toLowerCase();
  if (lower.includes("react"))
    return {
      color: "from-cyan-500/20 to-blue-500/20",
      hoverColor: "hover:from-cyan-500/30 hover:to-blue-500/30",
    };
  if (lower.includes("angular"))
    return {
      color: "from-red-500/20 to-pink-500/20",
      hoverColor: "hover:from-red-500/30 hover:to-pink-500/30",
    };
  if (lower.includes("vue"))
    return {
      color: "from-green-500/20 to-emerald-500/20",
      hoverColor: "hover:from-green-500/30 hover:to-emerald-500/30",
    };
  return {
    color: "from-gray-500/20 to-slate-500/20",
    hoverColor: "hover:from-gray-500/30 hover:to-slate-500/30",
  };
};

const extrasWithColors = extras.map((e) => ({
  ...e,
  ...getColors(e.title),
}));
---

<div class="extras-cards-container relative">
  <ul class="grid grid-cols-1 md:grid-cols-12 gap-6 relative z-10">
    {
      extrasWithColors.map(({ title, icon, link, color, hoverColor }, i) => (
        <li
          class={`extras-card-item
                ${i === 0 ? "md:col-span-6" : ""}
                ${i === 1 ? "md:col-span-6" : ""}
                ${i === 2 ? "md:col-span-12" : ""}
              `}
        >
          <FrameworkCard
            title={title}
            icon={`devicon:${icon.toLowerCase()}`}
            color={color}
            hoverColor={hoverColor}
            href={link}
          />
        </li>
      ))
    }
  </ul>
</div>
