---
import FrameworkCard from "./FrameworkCard.astro";

interface Props {
  extras: {
    title: string;
    icon: string;
    link: string;
  }[];
}

const { extras } = Astro.props;

const getColors = (title: string) => {
  const lower = title.toLowerCase();
  if (lower.includes("react"))
    return {
      color: "from-cyan-500/20 to-blue-500/20",
      hoverColor: "hover:from-cyan-500/30 hover:to-blue-500/30",
    };
  if (lower.includes("angular"))
    return {
      color: "from-red-500/20 to-pink-500/20",
      hoverColor: "hover:from-red-500/30 hover:to-pink-500/30",
    };
  if (lower.includes("vue"))
    return {
      color: "from-green-500/20 to-emerald-500/20",
      hoverColor: "hover:from-green-500/30 hover:to-emerald-500/30",
    };
  return {
    color: "from-gray-500/20 to-slate-500/20",
    hoverColor: "hover:from-gray-500/30 hover:to-slate-500/30",
  };
};

const extrasWithColors = extras.map((e) => ({
  ...e,
  ...getColors(e.title),
}));
---

<div class="extras-cards-container relative">
  <ul class="grid grid-cols-1 md:grid-cols-12 gap-6 relative z-10">
    {
      extrasWithColors.map(({ title, icon, link, color, hoverColor }, i) => (
        <li
          class={`extras-card-item
                ${i === 0 ? "md:col-span-6" : ""}
                ${i === 1 ? "md:col-span-6" : ""}
                ${i === 2 ? "md:col-span-12" : ""}
              `}
        >
          <FrameworkCard
            title={title}
            icon={`devicon:${icon.toLowerCase()}`}
            color={color}
            hoverColor={hoverColor}
            href={link}
          />
        </li>
      ))
    }
  </ul>
</div>
